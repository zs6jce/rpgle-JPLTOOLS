--  Générer SQL
--  Version :                   V5R2M0 020719
--  Générée le :              30/12/05 10:34:16
--  Base données relation :    QTEMP
--  Option normes :          DB2 UDB AS/400

DROP VIEW QSYS2/SYSTABLES ;

CREATE VIEW QSYS2/SYSTABLES (
  TABLE_NAME FOR COLUMN NAME       ,
  TABLE_OWNER FOR COLUMN CREATOR    ,
  TABLE_TYPE FOR COLUMN "TYPE" ,
  COLUMN_COUNT FOR COLUMN COLCOUNT   ,
  ROW_LENGTH FOR COLUMN RECLENGTH  ,
  TABLE_TEXT FOR COLUMN "LABEL" ,
  LONG_COMMENT FOR COLUMN REMARKS    ,
  TABLE_SCHEMA FOR COLUMN DBNAME     ,
  LAST_ALTERED_TIMESTAMP FOR COLUMN ALTEREDTS  ,
  SYSTEM_TABLE_NAME FOR COLUMN SYS_TNAME  ,
  SYSTEM_TABLE_SCHEMA FOR COLUMN SYS_DNAME  ,
  FILE_TYPE FOR COLUMN FILETYPE   ,
  BASE_TABLE_SCHEMA FOR COLUMN TBDBNAME   ,
  BASE_TABLE_NAME FOR COLUMN TBNAME     ,
  BASE_TABLE_MEMBER FOR COLUMN TBMEMBER   ,
  SYSTEM_TABLE FOR COLUMN SYSTABLE   ,
  SELECT_OMIT FOR COLUMN SELECTOMIT ,
  IS_INSERTABLE_INTO FOR COLUMN INSERTABLE ,
  IASP_NUMBER FOR COLUMN IASPNUMBER )
  AS
  SELECT DBXLFI, VARCHAR(STRIP(DBXOWN, TRAILING), 128), SUBSTR(DBXATR, 1, 1), INTEGER(DBXNFL), INTEG
ER(DBXRDL), DBXTXT, DBXREM, DBXLB2, DBXATS, DBXFIL, DBXLIB, DBXTYP, DBXALB, DBXAFL, DBXAMB, DBXSYS,
DBXSO, CASE DBXINSERT WHEN 'Y' THEN 'YES' ELSE 'NO' END, DBX_PASP FROM QSYS/QADBXREF WHERE DBXREL =
'Y' AND DBXATR <> 'IX' ;

LABEL ON COLUMN QSYS2/SYSTABLES
( TABLE_NAME TEXT IS 'Long file name' ,
  TABLE_TEXT TEXT IS 'File text' ,
  LONG_COMMENT TEXT IS 'Long file description' ,
  TABLE_SCHEMA TEXT IS 'Library name' ,
  LAST_ALTERED_TIMESTAMP TEXT IS 'File change timestamp' ,
  SYSTEM_TABLE_NAME TEXT IS 'File name' ,
  SYSTEM_TABLE_SCHEMA TEXT IS 'Library name' ,
  FILE_TYPE TEXT IS 'D-data file, S-source file' ,
  BASE_TABLE_SCHEMA TEXT IS 'Alias Library name' ,
  BASE_TABLE_NAME TEXT IS 'Alias File name' ,
  BASE_TABLE_MEMBER TEXT IS 'Alias Member name' ,
  SYSTEM_TABLE TEXT IS 'Y-System File' ,
  SELECT_OMIT TEXT IS 'Y-S/O logical, D-DYNSLT, N-Not S/O Logical' ,
  IASP_NUMBER TEXT IS 'Primary ASP' ) ;

